<!-- templates/fragments/landing-header.html -->
<div th:fragment="landingHeader"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="https://www.thymeleaf.org/extras/spring-security"
     th:with="p=${path} ?: ''">

    <!-- Middle: Logo + Hotline -->
    <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-3 px-6 py-4 bg-white shadow-sm">
        <a href="/landing-page"
           class="text-2xl font-extrabold tracking-tight text-blue-900 leading-tight hover:text-blue-700">
            THIẾT BỊ ĐIỆN<br>HẢI PHÒNG
        </a>

        <div class="flex items-center gap-2 text-red-600 font-semibold text-lg">
            <i class="ri-phone-fill"></i>
            <span>0936 841 799</span>
        </div>
    </div>

    <!-- Nav (sticky + pill buttons) -->
    <nav class="sticky top-0 z-40 bg-blue-900 text-white">
        <div class="w-full mx-auto px-4 flex items-center justify-between py-2">
            <!-- Menu trái -->
            <ul class="flex gap-3 overflow-x-auto">
                <li>
                    <a href="/landing-page"
                       th:classappend="${p == '/landing-page'} ? ' bg-white text-blue-900 shadow font-semibold' : ''"
                       class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full hover:bg-white/10 transition">
                        <i class="ri-home-5-line"></i> Trang chủ
                    </a>
                </li>
                <li>
                    <a href="/gioi-thieu"
                       th:classappend="${p == '/gioi-thieu'} ? ' bg-white text-blue-900 shadow font-semibold' : ''"
                       class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full hover:bg-white/10 transition">
                        <i class="ri-information-line"></i> Giới thiệu
                    </a>
                </li>
                <li>
                    <a href="/san-pham"
                       th:classappend="${p == '/san-pham'} ? ' bg-white text-blue-900 shadow font-semibold' : ''"
                       class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full hover:bg-white/10 transition">
                        <i class="ri-lightbulb-flash-line"></i> Sản phẩm
                    </a>
                </li>
            </ul>

            <!-- Action phải -->
            <div class="flex items-center gap-2 ml-4">
                <a sec:authorize="isAuthenticated()" href="/dashboard"
                   class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white text-blue-900 hover:bg-blue-50 transition shadow">
                    <i class="ri-dashboard-line text-base"></i>
                    <span>Dashboard</span>
                </a>

                <a sec:authorize="isAnonymous()" href="/login"
                   class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm">
                    <i class="ri-login-box-line text-base"></i>
                    <span>Đăng nhập</span>
                </a>
            </div>
        </div>
    </nav>
</div>


<script>
        // Toggle mobile menu
        document.addEventListener('DOMContentLoaded', function () {
            const btn1 = document.getElementById('lpNavToggle');
            const menu = document.getElementById('lpNavMenu');
            if (!btn1 || !menu) return;

            btn1.addEventListener('click', () => {
                const isHidden = menu.classList.toggle('hidden');
                btn1.setAttribute('aria-expanded', String(!isHidden));
                btn1.innerHTML = isHidden
                    ? '<i class="ri-menu-line text-xl"></i>'
                    : '<i class="ri-close-line text-xl"></i>';
            });
        });
    </script>

</div>